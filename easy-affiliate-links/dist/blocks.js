var EasyAffiliateLinks="object"==typeof EasyAffiliateLinks?EasyAffiliateLinks:{};EasyAffiliateLinks.blocks=function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=460)}({408:function(e,t){},409:function(e,t){},410:function(e,t){},460:function(e,t,n){"use strict";n.r(t);n(408);var i,o,a,r=wp.i18n.__,l=wp.blocks.registerBlockType,c=wp.components,f=c.Disabled,u=c.Toolbar,s=wp.element.Fragment;wp.hasOwnProperty("blockEditor")?(wp.blockEditor.InspectorControls,i=wp.blockEditor.BlockControls,o=wp.blockEditor.AlignmentToolbar):(wp.editor.InspectorControls,i=wp.editor.BlockControls,o=wp.editor.AlignmentToolbar),a=wp.hasOwnProperty("serverSideRender")?wp.serverSideRender:wp.components.ServerSideRender,l("easy-affiliate-links/easy-affiliate-link",{title:r("Easy Affiliate Link"),description:r("Display an EAFL affiliate link."),icon:"admin-links",keywords:["eafl","affiliate","link"],category:"common",supports:{html:!1},transforms:{from:[{type:"shortcode",tag:"eafl",attributes:{id:{type:"string",shortcode:function(e){var t=e.named.id;return(void 0===t?"":t).replace("id","")}},text:{type:"string",shortcode:function(e){var t=e.named.text;return(void 0===t?"":t).replace("text","")}}}}]},edit:function(e){var t=e.attributes,n=e.setAttributes,l=function(){EAFL_Modal.open("insert",{insertCallback:function(e,t){t||(t="affiliate link"),n({id:""+e.id,type:e.type,text:t,updated:Date.now()})},selectedText:""})};t.id||l();var c=[{icon:"admin-links",className:"eafl-link-button",title:r("Edit Affiliate Link"),onClick:function(){EAFL_Modal.open("edit",{linkId:t.id,saveCallback:function(){n({updated:Date.now()})}})}}];return"text"===t.type&&c.push({icon:"edit",title:r("Edit Link Text"),onClick:function(){EAFL_Modal.open("text",{linkId:t.id,text:t.text,changeCallback:function(e,t){n({text:e,updated:Date.now()})}})}}),c.push({icon:"update",title:r("Change Affiliate Link"),onClick:l}),React.createElement(s,null,React.createElement(i,null,React.createElement(o,{value:t.textAlign,onChange:function(e){n({textAlign:e})}}),React.createElement(u,{controls:c})),React.createElement(f,null,React.createElement(a,{block:"easy-affiliate-links/easy-affiliate-link",attributes:t})))},save:function(e){return null}});n(409),n(410);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m,v=wp.i18n.__,h=wp.components,w=h.Toolbar,E=h.IconButton,g=wp.richText,L=g.registerFormatType,A=g.getTextContent,C=g.applyFormat,x=g.removeFormat,_=g.slice,O=g.create,R=g.insert,T=wp.element.Component;m=wp.hasOwnProperty("blockEditor")?wp.blockEditor.BlockControls:wp.editor.BlockControls;L("easy-affiliate-links/affiliate-link",{title:v("Affiliate Link"),tagName:"a",className:"eafl-link",attributes:{eaflId:"data-eafl-id",eaflText:"data-eafl-text",url:"href",target:"target"},edit:function(e){function t(){var e,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(i=k(t).apply(this,arguments))||"object"!==p(i)&&"function"!=typeof i?b(n):i).addLink=e.addLink.bind(b(e)),e.editLink=e.editLink.bind(b(e)),e.addLinkCallback=e.addLinkCallback.bind(b(e)),e.onRemoveFormat=e.onRemoveFormat.bind(b(e)),e}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,T),n=t,(i=[{key:"addLink",value:function(){var e=this.props.value,t=A(_(e));EAFL_Modal.open("insert",{insertCallback:this.addLinkCallback,selectedText:t})}},{key:"addLinkCallback",value:function(e,t){var n=this.props,i=n.value,o=n.onChange;t||(t="affiliate link");var a={type:"easy-affiliate-links/affiliate-link",attributes:{url:e.url,eaflId:""+e.id,eaflText:t}},r=C(O({text:t}),a,0,t.length);o(R(i,r))}},{key:"editLink",value:function(){var e=this.props.activeAttributes.eaflId;EAFL_Modal.open("edit",{linkId:e})}},{key:"onRemoveFormat",value:function(){var e=this.props,t=e.value;(0,e.onChange)(x(t,"easy-affiliate-links/affiliate-link"))}},{key:"render",value:function(){var e=this.props,t=e.isActive;return e.activeAttributes,e.value,e.onChange,React.createElement(m,null,React.createElement(w,null,!t&&React.createElement(E,{icon:"admin-links",className:"eafl-link-button",tooltip:v("Affiliate Link"),onClick:this.addLink,isActive:t}),t&&React.createElement(E,{icon:"admin-links",className:"eafl-link-button",tooltip:v("Edit Affiliate Link"),onClick:this.editLink,isActive:t}),t&&React.createElement(E,{icon:"editor-unlink",className:"eafl-link-button",tooltip:v("Unlink Affiliate Link"),onClick:this.onRemoveFormat,isActive:t})))}}])&&d(n.prototype,i),o&&d(n,o),t}()})}});